<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>FERC | Flat Earth Rocket Corporation</title>

    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">

    <style>
        :root {
            --accent: #bfff00;
            --bg: #000000;
            --surface: #0a0a0a;
            --text: #ffffff;
            --text-dim: #9a9a9a;
            --line: #1a1a1a;
        }

        html { scroll-behavior: smooth; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background-color: var(--bg); color: var(--text); line-height: 1.4; overflow-x: hidden; }

        .mono { font-family: 'JetBrains Mono', monospace; color: var(--accent); font-size: 0.65rem; letter-spacing: 2px; text-transform: uppercase; }
        
        /* NAVIGATION */
        nav { position: fixed; top: 0; width: 100%; padding: 20px 40px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.05); }
        .logo { font-weight: 900; font-size: 1.2rem; letter-spacing: 2px; cursor: pointer; }
        .logo span { color: var(--accent); }
        .nav-links { display:flex; gap: 30px; }
        .nav-links a { text-decoration:none; color: #ddd; font-size:0.7rem; font-weight:700; text-transform:uppercase; letter-spacing:1px; cursor:pointer; transition: 0.3s; }
        .nav-links a:hover, .nav-links a.active { color: var(--accent); }

        /* CART ICON */
        .cart-trigger { position: relative; cursor: pointer; background: none; border: none; color: white; display: flex; align-items: center; gap: 8px; }
        #cart-count { background: var(--accent); color: black; font-size: 0.6rem; font-weight: 900; padding: 2px 6px; border-radius: 10px; position: absolute; top: -10px; right: -10px; }

        /* PAGES */
        .page { display: none; min-height: 100vh; padding-top: 100px; }
        .page.active { display: block; }

        /* HERO & GRID */
        .hero { height: 80vh; display:flex; flex-direction:column; justify-content:center; padding: 0 10%; }
        .hero h1 { font-size: clamp(3rem, 10vw, 6rem); font-weight:900; line-height:0.9; }
        
        .grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; padding: 40px 10%; }
        .card { background: var(--surface); padding: 30px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.03); transition: 0.4s; text-align: center; }
        .card:hover { border-color: var(--accent); transform: translateY(-5px); }
        
        .product-thumb { height: 250px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; }
        .product-thumb img { max-height: 100%; transition: 0.4s; }
        
        .price { font-family: 'JetBrains Mono'; color: var(--accent); font-size: 1.2rem; margin: 15px 0; display: block; }
        .btn { background: var(--accent); color: black; border: none; padding: 12px 24px; font-weight: 900; text-transform: uppercase; cursor: pointer; border-radius: 4px; transition: 0.3s; width: 100%; }
        .btn:hover { background: white; }
        .btn-outline { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: white; margin-top: 10px; }

        /* PRODUCT DETAIL PAGE */
        .product-detail { display: flex; gap: 60px; padding: 60px 10%; align-items: center; }
        .detail-img { flex: 1; background: var(--surface); border-radius: 20px; padding: 40px; display: flex; justify-content: center; }
        .detail-img img { max-width: 100%; height: auto; }
        .detail-info { flex: 1; }

        /* CART DRAWER */
        #cart-drawer { position: fixed; right: -400px; top: 0; width: 400px; height: 100vh; background: var(--surface); z-index: 2000; transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1); padding: 40px; border-left: 1px solid var(--accent); box-shadow: -20px 0 40px rgba(0,0,0,0.5); }
        #cart-drawer.open { right: 0; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .close-cart { background: none; border: none; color: var(--text-dim); cursor: pointer; font-size: 1.5rem; }
        .cart-items { max-height: 60vh; overflow-y: auto; margin-bottom: 20px; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .cart-item-info h4 { font-size: 0.9rem; }
        .remove-item { background: none; border: none; color: #ff4444; cursor: pointer; font-size: 0.7rem; text-transform: uppercase; }
        .cart-total { border-top: 2px solid var(--accent); padding-top: 20px; }

        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; z-index: 1500; }
        .overlay.active { display: block; }

        footer { padding: 60px 10%; text-align: center; color: var(--text-dim); font-size: 0.7rem; border-top: 1px solid rgba(255,255,255,0.05); }

        @media (max-width: 768px) {
            .product-detail { flex-direction: column; }
            #cart-drawer { width: 100%; right: -100%; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="logo" onclick="switchPage('home')">FERC<span>.</span></div>
        <div class="nav-links">
            <a onclick="switchPage('home')" id="link-home" class="active">Start</a>
            <a onclick="switchPage('shop')" id="link-shop">Sklep</a>
        </div>
        <button class="cart-trigger" onclick="toggleCart()">
            <span class="mono">KOSZYK</span>
            <div id="cart-count">0</div>
        </button>
    </nav>

    <div class="overlay" id="overlay" onclick="toggleCart()"></div>

    <div id="cart-drawer">
        <div class="cart-header">
            <h2 class="mono" style="font-size: 1.2rem;">Twój Koszyk</h2>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        <div id="cart-items" class="cart-items">
            </div>
        <div class="cart-total">
            <div style="display:flex; justify-content:space-between; margin-bottom: 20px;">
                <span>Suma:</span>
                <span id="total-price" class="price">0 PLN</span>
            </div>
            <button class="btn" onclick="checkout()">Kup Teraz</button>
        </div>
    </div>

    <div id="page-home" class="page active">
        <header class="hero">
            <span class="mono">[FERC_CORE_v2]</span>
            <h1>Leveling the<br><span style="color: var(--accent);">World</span></h1>
            <p style="color: var(--text-dim); max-width: 500px; margin-top: 20px;">Oficjalny dystrybutor rozwiązań kwestionujących krzywiznę. Technologia, gear, misja.</p>
            <div style="margin-top: 30px;">
                <button class="btn" style="width: auto;" onclick="switchPage('shop')">Przejdź do sklepu</button>
            </div>
        </header>
    </div>

    <div id="page-shop" class="page">
        <div style="padding: 0 10%;">
            <span class="mono">Dostępny ekwipunek</span>
            <h2 style="font-size: 2.5rem; margin-bottom: 40px;">Gear & Parts</h2>
        </div>
        <div class="grid" id="product-list">
            <div class="card">
                <div class="product-thumb"><img src="bluza_przod.png" alt="Hoodie"></div>
                <h3>Beyond the Curve Hoodie</h3>
                <span class="price">249 PLN</span>
                <button class="btn" onclick="openProduct('bluza')">Szczegóły</button>
            </div>
            <div class="card">
                <div class="product-thumb"><img src="g_motor.png" alt="Engine"></div>
                <h3>G-Class Engine Model</h3>
                <span class="price">599 PLN</span>
                <button class="btn" onclick="openProduct('engine')">Szczegóły</button>
            </div>
        </div>
    </div>

    <div id="page-shop-bluza" class="page">
        <div class="product-detail">
            <div class="detail-img"><img src="bluza_przod.png" alt="Hoodie"></div>
            <div class="detail-info">
                <button class="remove-item" onclick="switchPage('shop')" style="color: var(--text-dim); margin-bottom: 20px;">← Powrót</button>
                <span class="mono">Odzież</span>
                <h2>Beyond the Curve Hoodie</h2>
                <span class="price">249 PLN</span>
                <p style="color: var(--text-dim); margin-bottom: 30px;">Wysokiej gramatury bawełna z haftem FERC. Testowana w warunkach wysokogórskich.</p>
                <button class="btn" onclick="addToCart('Beyond the Curve Hoodie', 249)">Dodaj do koszyka</button>
            </div>
        </div>
    </div>

    <div id="page-shop-engine" class="page">
        <div class="product-detail">
            <div class="detail-img"><img src="g_motor.png" alt="Engine"></div>
            <div class="detail-info">
                <button class="remove-item" onclick="switchPage('shop')" style="color: var(--text-dim); margin-bottom: 20px;">← Powrót</button>
                <span class="mono">Hardware</span>
                <h2>G-Class Engine Scale Model</h2>
                <span class="price">599 PLN</span>
                <p style="color: var(--text-dim); margin-bottom: 30px;">Model kolekcjonerski silnika Klasy G. Każdy element odzwierciedla realny napęd Levelera.</p>
                <button class="btn" onclick="addToCart('G-Class Engine Model', 599)">Dodaj do koszyka</button>
            </div>
        </div>
    </div>

    <footer>&copy; 2026 FLAT EARTH ROCKET CORPORATION. BEYOND THE CURVE.</footer>

    <script>
        // --- DATA & STATE ---
        let cart = JSON.parse(localStorage.getItem('ferc_cart')) || [];

        // --- NAVIGATION ---
        function switchPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
            
            const target = document.getElementById('page-' + pageId);
            if(target) target.classList.add('active');
            
            const link = document.getElementById('link-' + (pageId.includes('shop') ? 'shop' : 'home'));
            if(link) link.classList.add('active');
            
            window.scrollTo(0,0);
        }

        function openProduct(id) {
            switchPage('shop-' + id);
        }

        // --- CART LOGIC ---
        function toggleCart() {
            document.getElementById('cart-drawer').classList.toggle('open');
            document.getElementById('overlay').classList.toggle('active');
        }

        function addToCart(name, price) {
            const item = { id: Date.now(), name, price };
            cart.push(item);
            saveCart();
            updateCartUI();
            toggleCart(); // Otwórz koszyk po dodaniu
        }

        function removeItem(id) {
            cart = cart.filter(item => item.id !== id);
            saveCart();
            updateCartUI();
        }

        function saveCart() {
            localStorage.setItem('ferc_cart', JSON.stringify(cart));
        }

        function updateCartUI() {
            const container = document.getElementById('cart-items');
            const countEl = document.getElementById('cart-count');
            const totalEl = document.getElementById('total-price');
            
            container.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                total += item.price;
                container.innerHTML += `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <h4>${item.name}</h4>
                            <span class="mono">${item.price} PLN</span>
                        </div>
                        <button class="remove-item" onclick="removeItem(${item.id})">Usuń</button>
                    </div>
                `;
            });

            countEl.innerText = cart.length;
            totalEl.innerText = total + ' PLN';
        }

        function checkout() {
            if(cart.length === 0) return alert("Koszyk jest pusty!");
            alert("Przekierowanie do płatności... (Symulacja)");
            cart = [];
            saveCart();
            updateCartUI();
            toggleCart();
        }

        // --- INIT ---
        function init() {
            updateCartUI();
            // Obsługa klawisza ESC
            document.addEventListener('keydown', (e) => {
                if(e.key === 'Escape') {
                    document.getElementById('cart-drawer').classList.remove('open');
                    document.getElementById('overlay').classList.remove('active');
                }
            });
        }

        init();
    </script>
</body>
</html>
